import{_ as U}from "./pageContainer-KVv8sQhj.js";import{a as x}from "./el-button-DUtZPU__.js";import{f as y,c as S,E as I}from "./user-CkukxXCR.js";import{E as B,a as C}from "./el-form-item-DOpUR8ga.js";import{E as R}from "./el-input-B5OuMNxW.js";import{g as m,h as u,o as q,b as F,w as l,j as e,k as N}from "./index-DG5wITwl.js";import{E as j}from "./el-message-CH_Y3fQd.js";const J={__name:"UserUpdate",setup(z){const{user:{username:i,nickname:p,email:_,id:d}}=m(),c=m(),a=u({username:i,nickname:p,email:_,id:d}),s=u(),f={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},g=async()=>{await s.value.validate()&&(await y(a.value),await c.getUser(),j.success("修改成功"))};return(v, o)=>{const n=R,r=B,b=x,E=C,V=S,k=I,w=U;return q(),F(w,{title:"基本资料"},{default:l(()=>[e(k,null,{default:l(()=>[e(V,{span:12},{default:l(()=>[e(E,{model:a.value,rules:f,ref_key:"formRef",ref:s,"label-width":"100px",size:"large"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(n,{modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]= t=>a.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(n,{modelValue:a.value.nickname,"onUpdate:modelValue":o[1]||(o[1]= t=>a.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(n,{modelValue:a.value.email,"onUpdate:modelValue":o[2]||(o[2]= t=>a.value.email=t)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(b,{type:"primary",onClick:g},{default:l(()=>[N("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{J as default};
