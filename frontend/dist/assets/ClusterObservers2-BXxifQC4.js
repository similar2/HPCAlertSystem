/* empty css             *//* empty css                   */import{_ as O}from"./pageContainer-C66w4MDG.js";/* empty css                   *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                 *//* empty css               *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                  */import{_ as V,r as s,C as q,o as b,c as E,a,b as e,e as r,f as h,G as W,L as P,d as C,M as U,h as x,k as j,q as z,n as H,ad as J,ae as K,t as Q,ag as X,ah as Y,ai as Z,ak as ee,x as te,al as ae,am as le}from"./index-CTSderqS.js";import{C as oe,_ as ne}from"./ResponseDelete-CHlk4qJA.js";import{c as se,d as ce,e as ie,f as re}from"./Warning-D5QCuhAJ.js";/* empty css                *//* empty css                  *//* empty css                  *//* empty css               */const pe=["onClick"],ue={__name:"ClusterObservers2",setup(_e){const p=s(!1),u=s([]),_=s(),y=s(),v=s();u.value=[];const c=async()=>{p.value=!0;const t=await se();u.value=t.data.data.filter(n=>n.clusterId===2),p.value=!1};c();const R=()=>{_.value.open({})},w=t=>{_.value.open(t)},S=async t=>{await U.confirm("你确认删除该监控主机吗？","温馨提示",{type:"warning",confirmButtonText:"确认",cancelButtonText:"取消"}),await ce(t.id),x({type:"success",message:"删除成功"}),c()},k=t=>{console.log(t),c()},I=async t=>{const l=(await ie(t.id)).data.data.map(m=>m.userId);y.value.open(t.id,l)},B=()=>{v.value.click()},D=async t=>{const n=t.target.files[0];await re(n),x({type:"success",message:"添加成功"}),c()},T=({row:t})=>t.other.alert?"alert-row":"",$=t=>{j.push({path:"/article/Cluster",query:{clusterId:1,hostId:t}})};return(t,n)=>{const l=z,m=q("Warning-select"),d=H,g=J,F=K,L=Q,i=X,N=Y,A=Z,G=O,M=ee;return b(),E(G,{title:"监控管理"},{extra:a(()=>[e(l,{onClick:R},{default:a(()=>[r("添加监控对象")]),_:1}),e(l,{type:"primary",onClick:B},{default:a(()=>[r("上传Excel文件")]),_:1}),h("input",{type:"file",ref_key:"fileInputRef",ref:v,onChange:D,style:{display:"none"},accept:".xlsx,.xls"},null,544)]),default:a(()=>[e(L,{inline:""},{default:a(()=>[e(d,{label:"监控类型："},{default:a(()=>[e(m)]),_:1}),e(d,{label:"活跃情况："},{default:a(()=>[e(F,null,{default:a(()=>[e(g,{label:"活跃中",value:"活跃中"}),e(g,{label:"休眠",value:"休眠"})]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(l,{onClick:t.onSearch,type:"primary"},{default:a(()=>[r("搜索")]),_:1},8,["onClick"]),e(l,{onClick:t.onReset},{default:a(()=>[r("重置")]),_:1},8,["onClick"])]),_:1})]),_:1}),W((b(),E(A,{data:u.value,style:{width:"100%"},"row-class-name":T},{empty:a(()=>[e(N,{description:"没有数据"})]),default:a(()=>[e(i,{label:"主机名",prop:"name"},{default:a(({row:o})=>[h("a",{class:"link hover-blue",onClick:f=>$(o.id)},P(o.name),9,pe)]),_:1}),e(i,{prop:"position",label:"Position"}),e(i,{prop:"type",label:"Type"}),e(i,{label:"操作",width:"150"},{default:a(({row:o})=>[e(l,{icon:C(te),circle:"",plain:"",type:"primary",onClick:f=>I(o)},null,8,["icon","onClick"]),e(l,{icon:C(ae),circle:"",plain:"",type:"primary",onClick:f=>w(o)},null,8,["icon","onClick"]),e(l,{icon:C(le),circle:"",plain:"",type:"danger",onClick:f=>S(o)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])),[[M,p.value]]),e(oe,{ref_key:"ClusterEditRef",ref:_,onSuccess:k},null,512),e(ne,{ref_key:"ResponseDeleteRef",ref:y,onSuccess:k},null,512)]),_:1})}}},Fe=V(ue,[["__scopeId","data-v-e014d06e"]]);export{Fe as default};
