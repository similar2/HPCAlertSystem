import{_ as w}from"./pageContainer-C66w4MDG.js";/* empty css             *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                 */import{u,r as m,o as x,c as y,a as l,b as e,e as S,as as I,h as q,p as B,n as C,q as R,t as F,m as N,E as z}from"./index-CTSderqS.js";/* empty css                */const K={__name:"UserUpdate",setup(M){const{user:{username:i,nickname:p,email:_,id:d}}=u(),c=u(),a=m({username:i,nickname:p,email:_,id:d}),s=m(),f={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},g=async()=>{await s.value.validate()&&(await I(a.value),await c.getUser(),q.success("修改成功"))};return(v,t)=>{const r=B,n=C,b=R,V=F,k=N,E=z,U=w;return x(),y(U,{title:"基本资料"},{default:l(()=>[e(E,null,{default:l(()=>[e(k,{span:12},{default:l(()=>[e(V,{model:a.value,rules:f,ref_key:"formRef",ref:s,"label-width":"100px",size:"large"},{default:l(()=>[e(n,{label:"登录名称"},{default:l(()=>[e(r,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(n,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(r,{modelValue:a.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(n,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(r,{modelValue:a.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(b,{type:"primary",onClick:g},{default:l(()=>[S("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{K as default};
