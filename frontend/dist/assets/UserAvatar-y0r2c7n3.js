import{_ as U}from"./pageContainer-C66w4MDG.js";/* empty css             *//* empty css               *//* empty css                  */import{_ as h,u as k,r as u,o as l,c as E,a,b as s,H as p,d as i,e as d,ax as S,h as x,au as A,q as B,m as C,E as R,ay as z,az as I,z as N,A as b,f as V}from"./index-CTSderqS.js";/* empty css                */const q="/assets/avatar-CQlNaQTu.jpg",F=t=>(N("data-v-2363c308"),t=t(),b(),t),Q=["src"],T={key:1,src:q,width:"278"},$=F(()=>V("br",null,null,-1)),j={__name:"UserAvatar",setup(t){const c=k(),r=u(),o=u(c.user.user_pic),m=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{o.value=e.result}},f=async()=>{await S(o.value),await c.getUser(),x({type:"success",message:"更换头像成功"})};return(n,e)=>{const v=A,_=B,g=C,w=R,y=U;return l(),E(y,{title:"更换头像"},{default:a(()=>[s(w,null,{default:a(()=>[s(g,{span:12},{default:a(()=>[s(v,{ref_key:"uploadRef",ref:r,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[o.value?(l(),p("img",{key:0,src:o.value,class:"avatar"},null,8,Q)):(l(),p("img",T))]),_:1},512),$,s(_,{onClick:e[0]||(e[0]=D=>r.value.$el.querySelector("input").click()),type:"primary",icon:i(z),size:"large"},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),s(_,{onClick:f,type:"success",icon:i(I),size:"large"},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},O=h(j,[["__scopeId","data-v-2363c308"]]);export{O as default};
